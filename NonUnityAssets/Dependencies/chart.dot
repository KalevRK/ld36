digraph {
  node [shape=box, fontsize=11, fillcolor=white, style=filled]
  graph [dpi = 100]
  rankdir=BT

  enable_left [label="Enable shiftleft", fillcolor=blue, fontcolor=white]
  enable_xor5 [label="Enable xor5", fillcolor=blue, fontcolor=white]
  enable_hack [label="Enable hack", fillcolor=blue, fontcolor=white]
  enable_invert [label="Enable invert", fillcolor=blue, fontcolor=white]
  enable_add32 [label="Enable add32", fillcolor=blue, fontcolor=white]

  puzzle_pokemans [label="Puzzle: pokemans.exe", fillcolor=purple, fontcolor=white]
  puzzle_xor5 [label="Puzzle: xor5.exe.enc", fillcolor=purple, fontcolor=white]
  puzzle_email [label="Puzzle: email", fillcolor=purple, fontcolor=white]
  puzzle_getroot [label="Puzzle: get root", fillcolor=purple, fontcolor=white]

  boot [fillcolor=green]
  root [label="/", fillcolor=red, fontcolor=white]
  win [fillcolor=green]

  usr [label="/usr", fillcolor=red, fontcolor=white]
  dev [label="/dev", fillcolor=red, fontcolor=white]
  bin [label="/bin", fillcolor=red, fontcolor=white]
  {rank=same; usr; dev; bin}

  usr_root [label="/usr/root", fillcolor=red, fontcolor=white]
  usr_mbishop [label="/usr/mbishop", fillcolor=red, fontcolor=white]
  usr_dcrease [label="/usr/dcrease", fillcolor=red, fontcolor=white]
  usr_dcrease_email [label="/usr/dcrease/email", fillcolor=red, fontcolor=white]
  usr_droskow [label="/usr/droskow", fillcolor=red, fontcolor=white]

  root -> boot [color=blue]
  enable_left -> boot [color=blue]

  dev -> root [color=blue]
  bin -> root [color=blue]
  usr -> root [color=blue]

  usr_mbishop -> usr
  usr_dcrease -> puzzle_pokemans
  usr_dcrease_email -> usr_dcrease
  usr_droskow -> usr

  usr_root -> puzzle_getroot
  usr_root -> usr [color=blue]

  enable_hack -> bin [color=blue]


  puzzle_pokemans -> usr_mbishop
  puzzle_pokemans -> enable_hack [color=blue]
  puzzle_pokemans -> enable_left [color=blue]

  puzzle_xor5 -> enable_left
  puzzle_xor5 -> enable_add32
  puzzle_xor5 -> usr_droskow

  enable_xor5 -> puzzle_xor5

  puzzle_email -> enable_xor5
  puzzle_email -> enable_invert
  puzzle_email -> usr_dcrease_email

  puzzle_getroot -> enable_left
  puzzle_getroot -> enable_xor5
  puzzle_getroot -> enable_invert
  puzzle_getroot -> enable_add32
  puzzle_getroot -> usr

  enable_invert -> dev
  enable_add32 -> usr_dcrease

  win -> usr_root
}
