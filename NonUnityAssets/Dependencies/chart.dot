digraph {
  node [shape=box, fontsize=11]
  graph [dpi = 100]
  rankdir=BT

  enable_left [label="Enable shiftleft"]
  enable_right [label="Enable shiftright"]
  enable_hack [label="Enable hack"]
  enable_invert [label="Enable invert"]
  enable_add32 [label="Enable add32"]

  puzzle_hack1 [label="Puzzle: hack1"]
  puzzle_hack2 [label="Puzzle: hack2"]
  puzzle_hack3 [label="Puzzle: hack3"]
  puzzle_hack4 [label="Puzzle: hack4"]

  boot
  root [label="/"]
  win

  usr [label="/usr"]
  dev [label="/dev"]
  bin [label="/bin"]
  {rank=same; usr; dev; bin}

  usr_root [label="/usr/root"]
  usr_mbishop [label="/usr/mbishop"]
  usr_dcrease [label="/usr/dcrease"]
  usr_droskow [label="/usr/droskow"]

  root -> boot [color=blue]
  enable_left -> boot [color=blue]
  enable_right -> boot [color=blue]

  dev -> root [color=blue]
  bin -> root [color=blue]
  usr -> root [color=blue]

  usr_mbishop -> usr
  usr_dcrease -> puzzle_hack1
  usr_droskow -> usr

  usr_root -> puzzle_hack4
  usr_root -> usr [color=blue]

  enable_hack -> bin [color=blue]

  enable_right -> usr_droskow

  puzzle_hack1 -> usr_mbishop
  puzzle_hack1 -> enable_hack [color=blue]
  puzzle_hack1 -> enable_left [color=blue]

  puzzle_hack2 -> enable_invert
  puzzle_hack2 -> enable_add32

  puzzle_hack3 -> enable_right
  puzzle_hack3 -> enable_invert

  puzzle_hack4 -> enable_left
  puzzle_hack4 -> enable_right
  puzzle_hack4 -> enable_invert
  puzzle_hack4 -> enable_add32

  enable_invert -> dev
  enable_add32 -> usr_dcrease

  win -> usr_root
}
